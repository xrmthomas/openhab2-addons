<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="ipx800"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">

    <bridge-type id="ipx800v3">
        <label>IPX 800</label>
        <description>The GCE IPX 800 device</description>
        
        <properties>
            <property name="I">8</property>
            <property name="A">4</property>
            <property name="O">8</property>
            <property name="C">8</property>
        </properties>
        
        <config-description>
            <parameter name="hostname" type="text" required="true">
                <context>network-address</context>
                <label>Network Address</label>
                <description>Network/IP address of the IPX800 without https prefix</description>
            </parameter>
            <parameter name="portNumber" type="integer" required="false">
                <label>Port number</label>
                <description>TCP client connection port</description>
                <default>9870</default>
            </parameter>
	        <parameter name="reconnectTimeout" type="integer" required="false" min="1000" max="60000" unit="ms"
	            groupName="connection">
	            <label>Reconnect Timeout</label>
	            <description>Time before reconnecting in case of failure (in milliseconds).</description>
	            <default>5000</default>
	        </parameter>
            <parameter name="sendTimeout" type="integer" required="false" min="500" max="60000" unit="ms"
                groupName="connection">
                <label>Send Timeout</label>
                <description>Time before assuming send failure (in milliseconds).</description>
                <default>1000</default>
            </parameter>
	        <parameter name="keepAlivePeriod" type="integer" min="1" max="10" groupName="connection">
	            <label>Keep Alive Period</label>
	            <description>Max keep alive failures before reconnecting (tentatives, 1-10)</description>
	            <default>1</default>
	        </parameter>
            <parameter name="keepaliveTimeout" type="integer" min="5000" max="30000" groupName="connection">
                <label>Keep Alive Timeout</label>
                <description>Max keep timeout</description>
                <default>30000</default>
            </parameter>
        </config-description>
    </bridge-type>
    
    <!-- digital channels -->
    <channel-type id="I">
        <item-type>Contact</item-type>
        <label>Digital Input</label>
        <category>Contact</category>
        <state pattern="%s" readOnly="true"></state>
        <config-description>
            <parameter name="debouncePeriod" type="integer" min="0" max="2000" unit="ms">
                <label>Debounce time</label>
                <default>0</default>
            </parameter>
            <parameter name="longPressTime" type="integer" step="1000" min="0" max="5000" unit="ms">
                <label>Long Press Time</label>
                <description>Long press time in milliseconds.</description>
                <default>0</default>
            </parameter>
            <parameter name="pulsePeriod" type="integer" step="500" min="0" max="50000" unit="ms">
                <label>Pulse Period</label>
                <description>Pulse period in milliseconds.</description>
                <default>0</default>
            </parameter>
            <parameter name="pulseTimeout" type="integer" step="500" min="0" max="50000" unit="ms">
                <label>Pulse Timeout</label>
                <description>Maximum period for sending pulses in milliseconds.</description>
                <default>0</default>
            </parameter>
        </config-description>
    </channel-type>
    
    <channel-type id="O">
        <item-type>Switch</item-type>
        <label>Digital Output</label>
        <config-description>
            <parameter name="pulse" type="boolean">
                <label>Pulse output</label>
                <default>false</default>
            </parameter>
        </config-description>
    </channel-type>

    <!-- analog channels -->
    <channel-type id="C">
        <item-type>Number</item-type>
        <label>Counter</label>
    </channel-type>
    
    <channel-type id="A">
        <item-type>Number</item-type>
        <label>Analog Input</label>
        <config-description>
            <parameter name="Histeresis" type="integer" min="0">
                <label>Histeresis</label>
                <default>0</default>
            </parameter>
        </config-description>
    </channel-type>
    
    <channel-type id="timestamp" advanced="true">
        <item-type>DateTime</item-type>
        <label>Timestamp</label>
        <description>Status timestamp</description>
        <state readOnly="true" />
    </channel-type>
    
    <channel-type id="lastStateDuration" advanced="true">
        <item-type>Number:Time</item-type>
        <label>Previous State Duration</label>
        <description>Duration of previous state before state change.</description>
        <state pattern="%.0f %unit%" readOnly="true" />
    </channel-type>
    
    <channel-type id="pushButtonTrigger">
        <kind>trigger</kind>
        <label>Push Button Trigger Channel</label>
        <event>
            <options>
                <option value="PRESSED">Pressed</option>
                <option value="RELEASED">Released</option>
                <option value="SHORT_PRESS">Short press</option>
                <option value="LONG_PRESS">Long press</option>
                <option value="PULSE">Pulse</option>
            </options>
        </event>
    </channel-type>


</thing:thing-descriptions>
